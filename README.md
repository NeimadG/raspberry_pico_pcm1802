# raspberry_pico_pcm1802
Audio acquisition with Raspberry Pi Pico (C/PIO)

This project presents how to read audio data from a cheap PCM1802 board (from aliexpress). It is used to feed a random console vu-meter.
Some PCM1802 boards have PCB errors. Following pages explain how/why "+" pads exposed on the back size need to be hacked.
https://www.pjrc.com/pcm1802-breakout-board-needs-hack/
and
https://github.com/Sev5000/Pico2_12bitADC_PCMAudio

In short, manually connect one "+" pad to 3.3V pad.

PCM1802 is configured in master mode (in datasheet "FORMAT 0: FMT[1:0] = 00"), SCKI generated by Pico at 384.fs (is datacheet "MODE1=1 MODE0=0 Master mode (384 fS)").
Required fs = 44100Hz, but real frequency is 44100.00431Hz.
Pico can be configured to change this clock speed (and also audio sample rate).

A PIO state machine is used to capture data. By default left and right channels are captured, but some minor code changes allow to ignore one. See PIO code.

A DMA channel is used to store data into memory, with a double buffer principle. A semaphore is used to notify main program that a buffer is ready to be processed.

Schematics :
<img width="1115" height="625" alt="rpico_PCM1802" src="https://github.com/user-attachments/assets/7a5319ec-5796-4c85-b490-25cc34528cf4" />

